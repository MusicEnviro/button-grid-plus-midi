{"version":3,"sources":["player/soundfont-player.ts","App.tsx","index.tsx"],"names":["Player","piano","Soundfont","AudioContext","this","console","log","emit","harmonic","frequency","note","Math","log2","play","duration","attack","decay","sustain","EventEmitter","App","midiSounds","player","init","row","column","index","playNote","className","id","onButtonDown","col","handleButton","React","Component","ReactDOM","render","document","getElementById"],"mappings":"sTASO,IAAMA,EAAb,4MACCC,WADD,iLAIqBC,aAAqB,IAAIC,aAAgB,WAJ9D,OAIEC,KAAKH,MAJP,OAKEI,QAAQC,IAAI,qBACZF,KAAKG,KAAK,SANZ,qIASUC,GACR,IAdkBC,EAcZC,GAdYD,EAciB,GAAXD,EAblB,GAAK,GAAKG,KAAKC,KAAKH,EAAY,MAetCL,KAAKH,MAAMY,KAAKH,EAAM,EAAG,CAACI,SAAU,EAAGC,OAAQ,IAAMC,MAAO,GAAKC,QAAS,QAZ5E,G,MAA4BC,cC0BbC,E,4MA3BdC,gB,IACAC,OAAS,IAAIrB,E,kEAGZI,KAAKiB,OAAOC,S,mCAGAC,EAAaC,GAEzB,IAAMC,EAAoB,GAAX,EAAIF,GAAWC,EAC9BpB,KAAKiB,OAAOK,SAASD,EAAQ,K,+BAIpB,IAAD,OAET,OACC,yBAAKE,UAAU,OAEd,2DACA,yBAAKC,GAAG,QACP,kBAAC,aAAD,CAAYC,aAAc,SAACN,EAAKO,GAAN,OAAc,EAAKC,aAAaR,EAAKO,Y,GAvBjDE,IAAMC,WCFxBC,IAASC,OACL,kBAAC,EAAD,MACFC,SAASC,eAAe,W","file":"static/js/main.2a3e3586.chunk.js","sourcesContent":["import * as Soundfont from 'soundfont-player';\nimport { EventEmitter } from 'events'\n\nimport { MidiPitch } from '@musicenviro/base'\n\nfunction freqToMidi(frequency: number) {\n\treturn 69 + 12 * Math.log2(frequency / 440);\n  };\n\nexport class Player extends EventEmitter {\n\tpiano: any;\n\n\tasync init() {\n\t\tthis.piano = await Soundfont.instrument(new AudioContext(), 'kalimba')\n\t\tconsole.log('instrument loaded')\n\t\tthis.emit('ready')\n\t}\n\n\tplayNote(harmonic: number) {\n\t\tconst note = freqToMidi(harmonic * 50)\n\t\t\n\t\tthis.piano.play(note, 0, {duration: 2, attack: 0.01, decay: 0.5, sustain: 0})\n\t}\n}","import React from 'react';\nimport './App.css';\n\nimport { ButtonGrid } from '@musicenviro/ui-elements';\nimport { Player } from './player/soundfont-player';\n\nclass App extends React.Component {\n\t\n\tmidiSounds: any;\n\tplayer = new Player();\n\n\tcomponentDidMount() {\n\t\tthis.player.init()\n\t}\n\n\thandleButton(row: number, column: number) {\n\n\t\tconst index = (3 - row) * 4 + column;\n\t\tthis.player.playNote(index + 1)\n\t\t\n\t}\n\n\trender() {\n\n\treturn (\n\t\t<div className=\"App\">\n\n\t\t\t<header>Harmonic Series Kalimba</header>\n\t\t\t<div id=\"main\">\n\t\t\t\t<ButtonGrid onButtonDown={(row, col) => this.handleButton(row, col)}/>\n\t\t\t</div>\n\t\t</div>\n\t)}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}